{"ast":null,"code":"\"use strict\";\n\nvar _pathToRegexp = _interopRequireDefault(require(\"path-to-regexp\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _url = require(\"url\");\n\nvar _link = _interopRequireDefault(require(\"next/link\"));\n\nvar _router = _interopRequireDefault(require(\"next/router\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = function (opts) {\n  return new Routes(opts);\n};\n\nvar Routes = /*#__PURE__*/function () {\n  function Routes() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref$Link = _ref.Link,\n        Link = _ref$Link === void 0 ? _link.default : _ref$Link,\n        _ref$Router = _ref.Router,\n        Router = _ref$Router === void 0 ? _router.default : _ref$Router;\n\n    _classCallCheck(this, Routes);\n\n    this.routes = [];\n    this.Link = this.getLink(Link);\n    this.Router = this.getRouter(Router);\n  }\n\n  _createClass(Routes, [{\n    key: \"add\",\n    value: function add(name, pattern, page) {\n      var options;\n\n      if (name instanceof Object) {\n        options = name;\n        name = options.name;\n      } else {\n        if (name[0] === '/') {\n          page = pattern;\n          pattern = name;\n          name = null;\n        }\n\n        options = {\n          name: name,\n          pattern: pattern,\n          page: page\n        };\n      }\n\n      if (this.findByName(name)) {\n        throw new Error(\"Route \\\"\".concat(name, \"\\\" already exists\"));\n      }\n\n      this.routes.push(new Route(options));\n      return this;\n    }\n  }, {\n    key: \"findByName\",\n    value: function findByName(name) {\n      if (name) {\n        return this.routes.filter(function (route) {\n          return route.name === name;\n        })[0];\n      }\n    }\n  }, {\n    key: \"match\",\n    value: function match(url) {\n      var parsedUrl = (0, _url.parse)(url, true);\n      var pathname = parsedUrl.pathname,\n          query = parsedUrl.query;\n      return this.routes.reduce(function (result, route) {\n        if (result.route) return result;\n        var params = route.match(pathname);\n        if (!params) return result;\n        return _objectSpread({}, result, {\n          route: route,\n          params: params,\n          query: _objectSpread({}, query, params)\n        });\n      }, {\n        query: query,\n        parsedUrl: parsedUrl\n      });\n    }\n  }, {\n    key: \"findAndGetUrls\",\n    value: function findAndGetUrls(nameOrUrl, params) {\n      var route = this.findByName(nameOrUrl);\n\n      if (route) {\n        return {\n          route: route,\n          urls: route.getUrls(params),\n          byName: true\n        };\n      } else {\n        var _this$match = this.match(nameOrUrl),\n            _route = _this$match.route,\n            query = _this$match.query;\n\n        var href = _route ? _route.getHref(query) : nameOrUrl;\n        var urls = {\n          href: href,\n          as: nameOrUrl\n        };\n        return {\n          route: _route,\n          urls: urls\n        };\n      }\n    }\n  }, {\n    key: \"getRequestHandler\",\n    value: function getRequestHandler(app, customHandler) {\n      var _this = this;\n\n      var nextHandler = app.getRequestHandler();\n      return function (req, res) {\n        var _this$match2 = _this.match(req.url),\n            route = _this$match2.route,\n            query = _this$match2.query,\n            parsedUrl = _this$match2.parsedUrl;\n\n        if (route) {\n          if (customHandler) {\n            customHandler({\n              req: req,\n              res: res,\n              route: route,\n              query: query\n            });\n          } else {\n            app.render(req, res, route.page, query);\n          }\n        } else {\n          nextHandler(req, res, parsedUrl);\n        }\n      };\n    }\n  }, {\n    key: \"getLink\",\n    value: function getLink(Link) {\n      var _this2 = this;\n\n      var LinkRoutes = function LinkRoutes(props) {\n        var route = props.route,\n            params = props.params,\n            to = props.to,\n            newProps = _objectWithoutProperties(props, [\"route\", \"params\", \"to\"]);\n\n        var nameOrUrl = route || to;\n\n        if (nameOrUrl) {\n          Object.assign(newProps, _this2.findAndGetUrls(nameOrUrl, params).urls);\n        }\n\n        return _react.default.createElement(Link, newProps);\n      };\n\n      return LinkRoutes;\n    }\n  }, {\n    key: \"getRouter\",\n    value: function getRouter(Router) {\n      var _this3 = this;\n\n      var wrap = function wrap(method) {\n        return function (route, params, options) {\n          var _this3$findAndGetUrls = _this3.findAndGetUrls(route, params),\n              byName = _this3$findAndGetUrls.byName,\n              _this3$findAndGetUrls2 = _this3$findAndGetUrls.urls,\n              as = _this3$findAndGetUrls2.as,\n              href = _this3$findAndGetUrls2.href;\n\n          return Router[method](href, as, byName ? options : params);\n        };\n      };\n\n      Router.pushRoute = wrap('push');\n      Router.replaceRoute = wrap('replace');\n      Router.prefetchRoute = wrap('prefetch');\n      return Router;\n    }\n  }]);\n\n  return Routes;\n}();\n\nvar Route = /*#__PURE__*/function () {\n  function Route(_ref2) {\n    var name = _ref2.name,\n        pattern = _ref2.pattern,\n        _ref2$page = _ref2.page,\n        page = _ref2$page === void 0 ? name : _ref2$page;\n\n    _classCallCheck(this, Route);\n\n    if (!name && !page) {\n      throw new Error(\"Missing page to render for route \\\"\".concat(pattern, \"\\\"\"));\n    }\n\n    this.name = name;\n    this.pattern = pattern || \"/\".concat(name);\n    this.page = page.replace(/(^|\\/)index$/, '').replace(/^\\/?/, '/');\n    this.regex = (0, _pathToRegexp.default)(this.pattern, this.keys = []);\n    this.keyNames = this.keys.map(function (key) {\n      return key.name;\n    });\n    this.toPath = _pathToRegexp.default.compile(this.pattern);\n  }\n\n  _createClass(Route, [{\n    key: \"match\",\n    value: function match(path) {\n      var values = this.regex.exec(path);\n\n      if (values) {\n        return this.valuesToParams(values.slice(1));\n      }\n    }\n  }, {\n    key: \"valuesToParams\",\n    value: function valuesToParams(values) {\n      var _this4 = this;\n\n      return values.reduce(function (params, val, i) {\n        if (val === undefined) return params;\n        return Object.assign(params, _defineProperty({}, _this4.keys[i].name, decodeURIComponent(val)));\n      }, {});\n    }\n  }, {\n    key: \"getHref\",\n    value: function getHref() {\n      var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      return \"\".concat(this.page, \"?\").concat(toQuerystring(params));\n    }\n  }, {\n    key: \"getAs\",\n    value: function getAs() {\n      var _this5 = this;\n\n      var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var as = this.toPath(params) || '/';\n      var keys = Object.keys(params);\n      var qsKeys = keys.filter(function (key) {\n        return _this5.keyNames.indexOf(key) === -1;\n      });\n      if (!qsKeys.length) return as;\n      var qsParams = qsKeys.reduce(function (qs, key) {\n        return Object.assign(qs, _defineProperty({}, key, params[key]));\n      }, {});\n      return \"\".concat(as, \"?\").concat(toQuerystring(qsParams));\n    }\n  }, {\n    key: \"getUrls\",\n    value: function getUrls(params) {\n      var as = this.getAs(params);\n      var href = this.getHref(params);\n      return {\n        as: as,\n        href: href\n      };\n    }\n  }]);\n\n  return Route;\n}();\n\nvar toQuerystring = function toQuerystring(obj) {\n  return Object.keys(obj).filter(function (key) {\n    return obj[key] !== null && obj[key] !== undefined;\n  }).map(function (key) {\n    var value = obj[key];\n\n    if (Array.isArray(value)) {\n      value = value.join('/');\n    }\n\n    return [encodeURIComponent(key), encodeURIComponent(value)].join('=');\n  }).join('&');\n};","map":{"version":3,"sources":["/home/minho/mail/node_modules/next-routes/dist/index.js"],"names":["_pathToRegexp","_interopRequireDefault","require","_react","_url","_link","_router","obj","__esModule","default","_objectWithoutProperties","source","excluded","target","sourceKeys","Object","keys","key","i","length","indexOf","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","call","_objectSpread","arguments","ownKeys","concat","filter","sym","getOwnPropertyDescriptor","enumerable","forEach","_defineProperty","value","defineProperty","configurable","writable","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","_createClass","protoProps","staticProps","module","exports","opts","Routes","_ref","undefined","_ref$Link","Link","_ref$Router","Router","routes","getLink","getRouter","add","name","pattern","page","options","findByName","Error","push","Route","route","match","url","parsedUrl","parse","pathname","query","reduce","result","params","findAndGetUrls","nameOrUrl","urls","getUrls","byName","_this$match","_route","href","getHref","as","getRequestHandler","app","customHandler","_this","nextHandler","req","res","_this$match2","render","_this2","LinkRoutes","to","newProps","assign","createElement","_this3","wrap","method","_this3$findAndGetUrls","_this3$findAndGetUrls2","pushRoute","replaceRoute","prefetchRoute","_ref2","_ref2$page","replace","regex","keyNames","map","toPath","compile","path","values","exec","valuesToParams","slice","_this4","val","decodeURIComponent","toQuerystring","getAs","_this5","qsKeys","qsParams","qs","Array","isArray","join","encodeURIComponent"],"mappings":"AAAA;;AAEA,IAAIA,aAAa,GAAGC,sBAAsB,CAACC,OAAO,CAAC,gBAAD,CAAR,CAA1C;;AAEA,IAAIC,MAAM,GAAGF,sBAAsB,CAACC,OAAO,CAAC,OAAD,CAAR,CAAnC;;AAEA,IAAIE,IAAI,GAAGF,OAAO,CAAC,KAAD,CAAlB;;AAEA,IAAIG,KAAK,GAAGJ,sBAAsB,CAACC,OAAO,CAAC,WAAD,CAAR,CAAlC;;AAEA,IAAII,OAAO,GAAGL,sBAAsB,CAACC,OAAO,CAAC,aAAD,CAAR,CAApC;;AAEA,SAASD,sBAAT,CAAgCM,GAAhC,EAAqC;AAAE,SAAOA,GAAG,IAAIA,GAAG,CAACC,UAAX,GAAwBD,GAAxB,GAA8B;AAAEE,IAAAA,OAAO,EAAEF;AAAX,GAArC;AAAwD;;AAE/F,SAASG,wBAAT,CAAkCC,MAAlC,EAA0CC,QAA1C,EAAoD;AAAE,MAAID,MAAM,IAAI,IAAd,EAAoB,OAAO,EAAP;AAAW,MAAIE,MAAM,GAAG,EAAb;AAAiB,MAAIC,UAAU,GAAGC,MAAM,CAACC,IAAP,CAAYL,MAAZ,CAAjB;AAAsC,MAAIM,GAAJ,EAASC,CAAT;;AAAY,OAAKA,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGJ,UAAU,CAACK,MAA3B,EAAmCD,CAAC,EAApC,EAAwC;AAAED,IAAAA,GAAG,GAAGH,UAAU,CAACI,CAAD,CAAhB;AAAqB,QAAIN,QAAQ,CAACQ,OAAT,CAAiBH,GAAjB,KAAyB,CAA7B,EAAgC;AAAUJ,IAAAA,MAAM,CAACI,GAAD,CAAN,GAAcN,MAAM,CAACM,GAAD,CAApB;AAA4B;;AAAC,MAAIF,MAAM,CAACM,qBAAX,EAAkC;AAAE,QAAIC,gBAAgB,GAAGP,MAAM,CAACM,qBAAP,CAA6BV,MAA7B,CAAvB;;AAA6D,SAAKO,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGI,gBAAgB,CAACH,MAAjC,EAAyCD,CAAC,EAA1C,EAA8C;AAAED,MAAAA,GAAG,GAAGK,gBAAgB,CAACJ,CAAD,CAAtB;AAA2B,UAAIN,QAAQ,CAACQ,OAAT,CAAiBH,GAAjB,KAAyB,CAA7B,EAAgC;AAAU,UAAI,CAACF,MAAM,CAACQ,SAAP,CAAiBC,oBAAjB,CAAsCC,IAAtC,CAA2Cd,MAA3C,EAAmDM,GAAnD,CAAL,EAA8D;AAAUJ,MAAAA,MAAM,CAACI,GAAD,CAAN,GAAcN,MAAM,CAACM,GAAD,CAApB;AAA4B;AAAE;;AAAC,SAAOJ,MAAP;AAAgB;;AAE3mB,SAASa,aAAT,CAAuBb,MAAvB,EAA+B;AAAE,OAAK,IAAIK,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGS,SAAS,CAACR,MAA9B,EAAsCD,CAAC,EAAvC,EAA2C;AAAE,QAAIP,MAAM,GAAGgB,SAAS,CAACT,CAAD,CAAT,IAAgB,IAAhB,GAAuBS,SAAS,CAACT,CAAD,CAAhC,GAAsC,EAAnD;AAAuD,QAAIU,OAAO,GAAGb,MAAM,CAACC,IAAP,CAAYL,MAAZ,CAAd;;AAAmC,QAAI,OAAOI,MAAM,CAACM,qBAAd,KAAwC,UAA5C,EAAwD;AAAEO,MAAAA,OAAO,GAAGA,OAAO,CAACC,MAAR,CAAed,MAAM,CAACM,qBAAP,CAA6BV,MAA7B,EAAqCmB,MAArC,CAA4C,UAAUC,GAAV,EAAe;AAAE,eAAOhB,MAAM,CAACiB,wBAAP,CAAgCrB,MAAhC,EAAwCoB,GAAxC,EAA6CE,UAApD;AAAiE,OAA9H,CAAf,CAAV;AAA4J;;AAACL,IAAAA,OAAO,CAACM,OAAR,CAAgB,UAAUjB,GAAV,EAAe;AAAEkB,MAAAA,eAAe,CAACtB,MAAD,EAASI,GAAT,EAAcN,MAAM,CAACM,GAAD,CAApB,CAAf;AAA4C,KAA7E;AAAiF;;AAAC,SAAOJ,MAAP;AAAgB;;AAEje,SAASsB,eAAT,CAAyB5B,GAAzB,EAA8BU,GAA9B,EAAmCmB,KAAnC,EAA0C;AAAE,MAAInB,GAAG,IAAIV,GAAX,EAAgB;AAAEQ,IAAAA,MAAM,CAACsB,cAAP,CAAsB9B,GAAtB,EAA2BU,GAA3B,EAAgC;AAAEmB,MAAAA,KAAK,EAAEA,KAAT;AAAgBH,MAAAA,UAAU,EAAE,IAA5B;AAAkCK,MAAAA,YAAY,EAAE,IAAhD;AAAsDC,MAAAA,QAAQ,EAAE;AAAhE,KAAhC;AAA0G,GAA5H,MAAkI;AAAEhC,IAAAA,GAAG,CAACU,GAAD,CAAH,GAAWmB,KAAX;AAAmB;;AAAC,SAAO7B,GAAP;AAAa;;AAEjN,SAASiC,eAAT,CAAyBC,QAAzB,EAAmCC,WAAnC,EAAgD;AAAE,MAAI,EAAED,QAAQ,YAAYC,WAAtB,CAAJ,EAAwC;AAAE,UAAM,IAAIC,SAAJ,CAAc,mCAAd,CAAN;AAA2D;AAAE;;AAEzJ,SAASC,iBAAT,CAA2B/B,MAA3B,EAAmCgC,KAAnC,EAA0C;AAAE,OAAK,IAAI3B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG2B,KAAK,CAAC1B,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AAAE,QAAI4B,UAAU,GAAGD,KAAK,CAAC3B,CAAD,CAAtB;AAA2B4B,IAAAA,UAAU,CAACb,UAAX,GAAwBa,UAAU,CAACb,UAAX,IAAyB,KAAjD;AAAwDa,IAAAA,UAAU,CAACR,YAAX,GAA0B,IAA1B;AAAgC,QAAI,WAAWQ,UAAf,EAA2BA,UAAU,CAACP,QAAX,GAAsB,IAAtB;AAA4BxB,IAAAA,MAAM,CAACsB,cAAP,CAAsBxB,MAAtB,EAA8BiC,UAAU,CAAC7B,GAAzC,EAA8C6B,UAA9C;AAA4D;AAAE;;AAE7T,SAASC,YAAT,CAAsBL,WAAtB,EAAmCM,UAAnC,EAA+CC,WAA/C,EAA4D;AAAE,MAAID,UAAJ,EAAgBJ,iBAAiB,CAACF,WAAW,CAACnB,SAAb,EAAwByB,UAAxB,CAAjB;AAAsD,MAAIC,WAAJ,EAAiBL,iBAAiB,CAACF,WAAD,EAAcO,WAAd,CAAjB;AAA6C,SAAOP,WAAP;AAAqB;;AAEvNQ,MAAM,CAACC,OAAP,GAAiB,UAAUC,IAAV,EAAgB;AAC/B,SAAO,IAAIC,MAAJ,CAAWD,IAAX,CAAP;AACD,CAFD;;AAIA,IAAIC,MAAM,GACV,aACA,YAAY;AACV,WAASA,MAAT,GAAkB;AAChB,QAAIC,IAAI,GAAG3B,SAAS,CAACR,MAAV,GAAmB,CAAnB,IAAwBQ,SAAS,CAAC,CAAD,CAAT,KAAiB4B,SAAzC,GAAqD5B,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAA/E;AAAA,QACI6B,SAAS,GAAGF,IAAI,CAACG,IADrB;AAAA,QAEIA,IAAI,GAAGD,SAAS,KAAK,KAAK,CAAnB,GAAuBnD,KAAK,CAACI,OAA7B,GAAuC+C,SAFlD;AAAA,QAGIE,WAAW,GAAGJ,IAAI,CAACK,MAHvB;AAAA,QAIIA,MAAM,GAAGD,WAAW,KAAK,KAAK,CAArB,GAAyBpD,OAAO,CAACG,OAAjC,GAA2CiD,WAJxD;;AAMAlB,IAAAA,eAAe,CAAC,IAAD,EAAOa,MAAP,CAAf;;AAEA,SAAKO,MAAL,GAAc,EAAd;AACA,SAAKH,IAAL,GAAY,KAAKI,OAAL,CAAaJ,IAAb,CAAZ;AACA,SAAKE,MAAL,GAAc,KAAKG,SAAL,CAAeH,MAAf,CAAd;AACD;;AAEDZ,EAAAA,YAAY,CAACM,MAAD,EAAS,CAAC;AACpBpC,IAAAA,GAAG,EAAE,KADe;AAEpBmB,IAAAA,KAAK,EAAE,SAAS2B,GAAT,CAAaC,IAAb,EAAmBC,OAAnB,EAA4BC,IAA5B,EAAkC;AACvC,UAAIC,OAAJ;;AAEA,UAAIH,IAAI,YAAYjD,MAApB,EAA4B;AAC1BoD,QAAAA,OAAO,GAAGH,IAAV;AACAA,QAAAA,IAAI,GAAGG,OAAO,CAACH,IAAf;AACD,OAHD,MAGO;AACL,YAAIA,IAAI,CAAC,CAAD,CAAJ,KAAY,GAAhB,EAAqB;AACnBE,UAAAA,IAAI,GAAGD,OAAP;AACAA,UAAAA,OAAO,GAAGD,IAAV;AACAA,UAAAA,IAAI,GAAG,IAAP;AACD;;AAEDG,QAAAA,OAAO,GAAG;AACRH,UAAAA,IAAI,EAAEA,IADE;AAERC,UAAAA,OAAO,EAAEA,OAFD;AAGRC,UAAAA,IAAI,EAAEA;AAHE,SAAV;AAKD;;AAED,UAAI,KAAKE,UAAL,CAAgBJ,IAAhB,CAAJ,EAA2B;AACzB,cAAM,IAAIK,KAAJ,CAAU,WAAWxC,MAAX,CAAkBmC,IAAlB,EAAwB,mBAAxB,CAAV,CAAN;AACD;;AAED,WAAKJ,MAAL,CAAYU,IAAZ,CAAiB,IAAIC,KAAJ,CAAUJ,OAAV,CAAjB;AACA,aAAO,IAAP;AACD;AA5BmB,GAAD,EA6BlB;AACDlD,IAAAA,GAAG,EAAE,YADJ;AAEDmB,IAAAA,KAAK,EAAE,SAASgC,UAAT,CAAoBJ,IAApB,EAA0B;AAC/B,UAAIA,IAAJ,EAAU;AACR,eAAO,KAAKJ,MAAL,CAAY9B,MAAZ,CAAmB,UAAU0C,KAAV,EAAiB;AACzC,iBAAOA,KAAK,CAACR,IAAN,KAAeA,IAAtB;AACD,SAFM,EAEJ,CAFI,CAAP;AAGD;AACF;AARA,GA7BkB,EAsClB;AACD/C,IAAAA,GAAG,EAAE,OADJ;AAEDmB,IAAAA,KAAK,EAAE,SAASqC,KAAT,CAAeC,GAAf,EAAoB;AACzB,UAAIC,SAAS,GAAG,CAAC,GAAGvE,IAAI,CAACwE,KAAT,EAAgBF,GAAhB,EAAqB,IAArB,CAAhB;AACA,UAAIG,QAAQ,GAAGF,SAAS,CAACE,QAAzB;AAAA,UACIC,KAAK,GAAGH,SAAS,CAACG,KADtB;AAEA,aAAO,KAAKlB,MAAL,CAAYmB,MAAZ,CAAmB,UAAUC,MAAV,EAAkBR,KAAlB,EAAyB;AACjD,YAAIQ,MAAM,CAACR,KAAX,EAAkB,OAAOQ,MAAP;AAClB,YAAIC,MAAM,GAAGT,KAAK,CAACC,KAAN,CAAYI,QAAZ,CAAb;AACA,YAAI,CAACI,MAAL,EAAa,OAAOD,MAAP;AACb,eAAOtD,aAAa,CAAC,EAAD,EAAKsD,MAAL,EAAa;AAC/BR,UAAAA,KAAK,EAAEA,KADwB;AAE/BS,UAAAA,MAAM,EAAEA,MAFuB;AAG/BH,UAAAA,KAAK,EAAEpD,aAAa,CAAC,EAAD,EAAKoD,KAAL,EAAYG,MAAZ;AAHW,SAAb,CAApB;AAKD,OATM,EASJ;AACDH,QAAAA,KAAK,EAAEA,KADN;AAEDH,QAAAA,SAAS,EAAEA;AAFV,OATI,CAAP;AAaD;AAnBA,GAtCkB,EA0DlB;AACD1D,IAAAA,GAAG,EAAE,gBADJ;AAEDmB,IAAAA,KAAK,EAAE,SAAS8C,cAAT,CAAwBC,SAAxB,EAAmCF,MAAnC,EAA2C;AAChD,UAAIT,KAAK,GAAG,KAAKJ,UAAL,CAAgBe,SAAhB,CAAZ;;AAEA,UAAIX,KAAJ,EAAW;AACT,eAAO;AACLA,UAAAA,KAAK,EAAEA,KADF;AAELY,UAAAA,IAAI,EAAEZ,KAAK,CAACa,OAAN,CAAcJ,MAAd,CAFD;AAGLK,UAAAA,MAAM,EAAE;AAHH,SAAP;AAKD,OAND,MAMO;AACL,YAAIC,WAAW,GAAG,KAAKd,KAAL,CAAWU,SAAX,CAAlB;AAAA,YACIK,MAAM,GAAGD,WAAW,CAACf,KADzB;AAAA,YAEIM,KAAK,GAAGS,WAAW,CAACT,KAFxB;;AAIA,YAAIW,IAAI,GAAGD,MAAM,GAAGA,MAAM,CAACE,OAAP,CAAeZ,KAAf,CAAH,GAA2BK,SAA5C;AACA,YAAIC,IAAI,GAAG;AACTK,UAAAA,IAAI,EAAEA,IADG;AAETE,UAAAA,EAAE,EAAER;AAFK,SAAX;AAIA,eAAO;AACLX,UAAAA,KAAK,EAAEgB,MADF;AAELJ,UAAAA,IAAI,EAAEA;AAFD,SAAP;AAID;AACF;AA1BA,GA1DkB,EAqFlB;AACDnE,IAAAA,GAAG,EAAE,mBADJ;AAEDmB,IAAAA,KAAK,EAAE,SAASwD,iBAAT,CAA2BC,GAA3B,EAAgCC,aAAhC,EAA+C;AACpD,UAAIC,KAAK,GAAG,IAAZ;;AAEA,UAAIC,WAAW,GAAGH,GAAG,CAACD,iBAAJ,EAAlB;AACA,aAAO,UAAUK,GAAV,EAAeC,GAAf,EAAoB;AACzB,YAAIC,YAAY,GAAGJ,KAAK,CAACtB,KAAN,CAAYwB,GAAG,CAACvB,GAAhB,CAAnB;AAAA,YACIF,KAAK,GAAG2B,YAAY,CAAC3B,KADzB;AAAA,YAEIM,KAAK,GAAGqB,YAAY,CAACrB,KAFzB;AAAA,YAGIH,SAAS,GAAGwB,YAAY,CAACxB,SAH7B;;AAKA,YAAIH,KAAJ,EAAW;AACT,cAAIsB,aAAJ,EAAmB;AACjBA,YAAAA,aAAa,CAAC;AACZG,cAAAA,GAAG,EAAEA,GADO;AAEZC,cAAAA,GAAG,EAAEA,GAFO;AAGZ1B,cAAAA,KAAK,EAAEA,KAHK;AAIZM,cAAAA,KAAK,EAAEA;AAJK,aAAD,CAAb;AAMD,WAPD,MAOO;AACLe,YAAAA,GAAG,CAACO,MAAJ,CAAWH,GAAX,EAAgBC,GAAhB,EAAqB1B,KAAK,CAACN,IAA3B,EAAiCY,KAAjC;AACD;AACF,SAXD,MAWO;AACLkB,UAAAA,WAAW,CAACC,GAAD,EAAMC,GAAN,EAAWvB,SAAX,CAAX;AACD;AACF,OApBD;AAqBD;AA3BA,GArFkB,EAiHlB;AACD1D,IAAAA,GAAG,EAAE,SADJ;AAEDmB,IAAAA,KAAK,EAAE,SAASyB,OAAT,CAAiBJ,IAAjB,EAAuB;AAC5B,UAAI4C,MAAM,GAAG,IAAb;;AAEA,UAAIC,UAAU,GAAG,SAASA,UAAT,CAAoBzD,KAApB,EAA2B;AAC1C,YAAI2B,KAAK,GAAG3B,KAAK,CAAC2B,KAAlB;AAAA,YACIS,MAAM,GAAGpC,KAAK,CAACoC,MADnB;AAAA,YAEIsB,EAAE,GAAG1D,KAAK,CAAC0D,EAFf;AAAA,YAGIC,QAAQ,GAAG9F,wBAAwB,CAACmC,KAAD,EAAQ,CAAC,OAAD,EAAU,QAAV,EAAoB,IAApB,CAAR,CAHvC;;AAKA,YAAIsC,SAAS,GAAGX,KAAK,IAAI+B,EAAzB;;AAEA,YAAIpB,SAAJ,EAAe;AACbpE,UAAAA,MAAM,CAAC0F,MAAP,CAAcD,QAAd,EAAwBH,MAAM,CAACnB,cAAP,CAAsBC,SAAtB,EAAiCF,MAAjC,EAAyCG,IAAjE;AACD;;AAED,eAAOjF,MAAM,CAACM,OAAP,CAAeiG,aAAf,CAA6BjD,IAA7B,EAAmC+C,QAAnC,CAAP;AACD,OAbD;;AAeA,aAAOF,UAAP;AACD;AArBA,GAjHkB,EAuIlB;AACDrF,IAAAA,GAAG,EAAE,WADJ;AAEDmB,IAAAA,KAAK,EAAE,SAAS0B,SAAT,CAAmBH,MAAnB,EAA2B;AAChC,UAAIgD,MAAM,GAAG,IAAb;;AAEA,UAAIC,IAAI,GAAG,SAASA,IAAT,CAAcC,MAAd,EAAsB;AAC/B,eAAO,UAAUrC,KAAV,EAAiBS,MAAjB,EAAyBd,OAAzB,EAAkC;AACvC,cAAI2C,qBAAqB,GAAGH,MAAM,CAACzB,cAAP,CAAsBV,KAAtB,EAA6BS,MAA7B,CAA5B;AAAA,cACIK,MAAM,GAAGwB,qBAAqB,CAACxB,MADnC;AAAA,cAEIyB,sBAAsB,GAAGD,qBAAqB,CAAC1B,IAFnD;AAAA,cAGIO,EAAE,GAAGoB,sBAAsB,CAACpB,EAHhC;AAAA,cAIIF,IAAI,GAAGsB,sBAAsB,CAACtB,IAJlC;;AAMA,iBAAO9B,MAAM,CAACkD,MAAD,CAAN,CAAepB,IAAf,EAAqBE,EAArB,EAAyBL,MAAM,GAAGnB,OAAH,GAAac,MAA5C,CAAP;AACD,SARD;AASD,OAVD;;AAYAtB,MAAAA,MAAM,CAACqD,SAAP,GAAmBJ,IAAI,CAAC,MAAD,CAAvB;AACAjD,MAAAA,MAAM,CAACsD,YAAP,GAAsBL,IAAI,CAAC,SAAD,CAA1B;AACAjD,MAAAA,MAAM,CAACuD,aAAP,GAAuBN,IAAI,CAAC,UAAD,CAA3B;AACA,aAAOjD,MAAP;AACD;AArBA,GAvIkB,CAAT,CAAZ;;AA+JA,SAAON,MAAP;AACD,CA/KD,EAFA;;AAmLA,IAAIkB,KAAK,GACT,aACA,YAAY;AACV,WAASA,KAAT,CAAe4C,KAAf,EAAsB;AACpB,QAAInD,IAAI,GAAGmD,KAAK,CAACnD,IAAjB;AAAA,QACIC,OAAO,GAAGkD,KAAK,CAAClD,OADpB;AAAA,QAEImD,UAAU,GAAGD,KAAK,CAACjD,IAFvB;AAAA,QAGIA,IAAI,GAAGkD,UAAU,KAAK,KAAK,CAApB,GAAwBpD,IAAxB,GAA+BoD,UAH1C;;AAKA5E,IAAAA,eAAe,CAAC,IAAD,EAAO+B,KAAP,CAAf;;AAEA,QAAI,CAACP,IAAD,IAAS,CAACE,IAAd,EAAoB;AAClB,YAAM,IAAIG,KAAJ,CAAU,sCAAsCxC,MAAtC,CAA6CoC,OAA7C,EAAsD,IAAtD,CAAV,CAAN;AACD;;AAED,SAAKD,IAAL,GAAYA,IAAZ;AACA,SAAKC,OAAL,GAAeA,OAAO,IAAI,IAAIpC,MAAJ,CAAWmC,IAAX,CAA1B;AACA,SAAKE,IAAL,GAAYA,IAAI,CAACmD,OAAL,CAAa,cAAb,EAA6B,EAA7B,EAAiCA,OAAjC,CAAyC,MAAzC,EAAiD,GAAjD,CAAZ;AACA,SAAKC,KAAL,GAAa,CAAC,GAAGtH,aAAa,CAACS,OAAlB,EAA2B,KAAKwD,OAAhC,EAAyC,KAAKjD,IAAL,GAAY,EAArD,CAAb;AACA,SAAKuG,QAAL,GAAgB,KAAKvG,IAAL,CAAUwG,GAAV,CAAc,UAAUvG,GAAV,EAAe;AAC3C,aAAOA,GAAG,CAAC+C,IAAX;AACD,KAFe,CAAhB;AAGA,SAAKyD,MAAL,GAAczH,aAAa,CAACS,OAAd,CAAsBiH,OAAtB,CAA8B,KAAKzD,OAAnC,CAAd;AACD;;AAEDlB,EAAAA,YAAY,CAACwB,KAAD,EAAQ,CAAC;AACnBtD,IAAAA,GAAG,EAAE,OADc;AAEnBmB,IAAAA,KAAK,EAAE,SAASqC,KAAT,CAAekD,IAAf,EAAqB;AAC1B,UAAIC,MAAM,GAAG,KAAKN,KAAL,CAAWO,IAAX,CAAgBF,IAAhB,CAAb;;AAEA,UAAIC,MAAJ,EAAY;AACV,eAAO,KAAKE,cAAL,CAAoBF,MAAM,CAACG,KAAP,CAAa,CAAb,CAApB,CAAP;AACD;AACF;AARkB,GAAD,EASjB;AACD9G,IAAAA,GAAG,EAAE,gBADJ;AAEDmB,IAAAA,KAAK,EAAE,SAAS0F,cAAT,CAAwBF,MAAxB,EAAgC;AACrC,UAAII,MAAM,GAAG,IAAb;;AAEA,aAAOJ,MAAM,CAAC7C,MAAP,CAAc,UAAUE,MAAV,EAAkBgD,GAAlB,EAAuB/G,CAAvB,EAA0B;AAC7C,YAAI+G,GAAG,KAAK1E,SAAZ,EAAuB,OAAO0B,MAAP;AACvB,eAAOlE,MAAM,CAAC0F,MAAP,CAAcxB,MAAd,EAAsB9C,eAAe,CAAC,EAAD,EAAK6F,MAAM,CAAChH,IAAP,CAAYE,CAAZ,EAAe8C,IAApB,EAA0BkE,kBAAkB,CAACD,GAAD,CAA5C,CAArC,CAAP;AACD,OAHM,EAGJ,EAHI,CAAP;AAID;AATA,GATiB,EAmBjB;AACDhH,IAAAA,GAAG,EAAE,SADJ;AAEDmB,IAAAA,KAAK,EAAE,SAASsD,OAAT,GAAmB;AACxB,UAAIT,MAAM,GAAGtD,SAAS,CAACR,MAAV,GAAmB,CAAnB,IAAwBQ,SAAS,CAAC,CAAD,CAAT,KAAiB4B,SAAzC,GAAqD5B,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAAjF;AACA,aAAO,GAAGE,MAAH,CAAU,KAAKqC,IAAf,EAAqB,GAArB,EAA0BrC,MAA1B,CAAiCsG,aAAa,CAAClD,MAAD,CAA9C,CAAP;AACD;AALA,GAnBiB,EAyBjB;AACDhE,IAAAA,GAAG,EAAE,OADJ;AAEDmB,IAAAA,KAAK,EAAE,SAASgG,KAAT,GAAiB;AACtB,UAAIC,MAAM,GAAG,IAAb;;AAEA,UAAIpD,MAAM,GAAGtD,SAAS,CAACR,MAAV,GAAmB,CAAnB,IAAwBQ,SAAS,CAAC,CAAD,CAAT,KAAiB4B,SAAzC,GAAqD5B,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAAjF;AACA,UAAIgE,EAAE,GAAG,KAAK8B,MAAL,CAAYxC,MAAZ,KAAuB,GAAhC;AACA,UAAIjE,IAAI,GAAGD,MAAM,CAACC,IAAP,CAAYiE,MAAZ,CAAX;AACA,UAAIqD,MAAM,GAAGtH,IAAI,CAACc,MAAL,CAAY,UAAUb,GAAV,EAAe;AACtC,eAAOoH,MAAM,CAACd,QAAP,CAAgBnG,OAAhB,CAAwBH,GAAxB,MAAiC,CAAC,CAAzC;AACD,OAFY,CAAb;AAGA,UAAI,CAACqH,MAAM,CAACnH,MAAZ,EAAoB,OAAOwE,EAAP;AACpB,UAAI4C,QAAQ,GAAGD,MAAM,CAACvD,MAAP,CAAc,UAAUyD,EAAV,EAAcvH,GAAd,EAAmB;AAC9C,eAAOF,MAAM,CAAC0F,MAAP,CAAc+B,EAAd,EAAkBrG,eAAe,CAAC,EAAD,EAAKlB,GAAL,EAAUgE,MAAM,CAAChE,GAAD,CAAhB,CAAjC,CAAP;AACD,OAFc,EAEZ,EAFY,CAAf;AAGA,aAAO,GAAGY,MAAH,CAAU8D,EAAV,EAAc,GAAd,EAAmB9D,MAAnB,CAA0BsG,aAAa,CAACI,QAAD,CAAvC,CAAP;AACD;AAhBA,GAzBiB,EA0CjB;AACDtH,IAAAA,GAAG,EAAE,SADJ;AAEDmB,IAAAA,KAAK,EAAE,SAASiD,OAAT,CAAiBJ,MAAjB,EAAyB;AAC9B,UAAIU,EAAE,GAAG,KAAKyC,KAAL,CAAWnD,MAAX,CAAT;AACA,UAAIQ,IAAI,GAAG,KAAKC,OAAL,CAAaT,MAAb,CAAX;AACA,aAAO;AACLU,QAAAA,EAAE,EAAEA,EADC;AAELF,QAAAA,IAAI,EAAEA;AAFD,OAAP;AAID;AATA,GA1CiB,CAAR,CAAZ;;AAsDA,SAAOlB,KAAP;AACD,CA9ED,EAFA;;AAkFA,IAAI4D,aAAa,GAAG,SAASA,aAAT,CAAuB5H,GAAvB,EAA4B;AAC9C,SAAOQ,MAAM,CAACC,IAAP,CAAYT,GAAZ,EAAiBuB,MAAjB,CAAwB,UAAUb,GAAV,EAAe;AAC5C,WAAOV,GAAG,CAACU,GAAD,CAAH,KAAa,IAAb,IAAqBV,GAAG,CAACU,GAAD,CAAH,KAAasC,SAAzC;AACD,GAFM,EAEJiE,GAFI,CAEA,UAAUvG,GAAV,EAAe;AACpB,QAAImB,KAAK,GAAG7B,GAAG,CAACU,GAAD,CAAf;;AAEA,QAAIwH,KAAK,CAACC,OAAN,CAActG,KAAd,CAAJ,EAA0B;AACxBA,MAAAA,KAAK,GAAGA,KAAK,CAACuG,IAAN,CAAW,GAAX,CAAR;AACD;;AAED,WAAO,CAACC,kBAAkB,CAAC3H,GAAD,CAAnB,EAA0B2H,kBAAkB,CAACxG,KAAD,CAA5C,EAAqDuG,IAArD,CAA0D,GAA1D,CAAP;AACD,GAVM,EAUJA,IAVI,CAUC,GAVD,CAAP;AAWD,CAZD","sourcesContent":["\"use strict\";\n\nvar _pathToRegexp = _interopRequireDefault(require(\"path-to-regexp\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _url = require(\"url\");\n\nvar _link = _interopRequireDefault(require(\"next/link\"));\n\nvar _router = _interopRequireDefault(require(\"next/router\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nmodule.exports = function (opts) {\n  return new Routes(opts);\n};\n\nvar Routes =\n/*#__PURE__*/\nfunction () {\n  function Routes() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref$Link = _ref.Link,\n        Link = _ref$Link === void 0 ? _link.default : _ref$Link,\n        _ref$Router = _ref.Router,\n        Router = _ref$Router === void 0 ? _router.default : _ref$Router;\n\n    _classCallCheck(this, Routes);\n\n    this.routes = [];\n    this.Link = this.getLink(Link);\n    this.Router = this.getRouter(Router);\n  }\n\n  _createClass(Routes, [{\n    key: \"add\",\n    value: function add(name, pattern, page) {\n      var options;\n\n      if (name instanceof Object) {\n        options = name;\n        name = options.name;\n      } else {\n        if (name[0] === '/') {\n          page = pattern;\n          pattern = name;\n          name = null;\n        }\n\n        options = {\n          name: name,\n          pattern: pattern,\n          page: page\n        };\n      }\n\n      if (this.findByName(name)) {\n        throw new Error(\"Route \\\"\".concat(name, \"\\\" already exists\"));\n      }\n\n      this.routes.push(new Route(options));\n      return this;\n    }\n  }, {\n    key: \"findByName\",\n    value: function findByName(name) {\n      if (name) {\n        return this.routes.filter(function (route) {\n          return route.name === name;\n        })[0];\n      }\n    }\n  }, {\n    key: \"match\",\n    value: function match(url) {\n      var parsedUrl = (0, _url.parse)(url, true);\n      var pathname = parsedUrl.pathname,\n          query = parsedUrl.query;\n      return this.routes.reduce(function (result, route) {\n        if (result.route) return result;\n        var params = route.match(pathname);\n        if (!params) return result;\n        return _objectSpread({}, result, {\n          route: route,\n          params: params,\n          query: _objectSpread({}, query, params)\n        });\n      }, {\n        query: query,\n        parsedUrl: parsedUrl\n      });\n    }\n  }, {\n    key: \"findAndGetUrls\",\n    value: function findAndGetUrls(nameOrUrl, params) {\n      var route = this.findByName(nameOrUrl);\n\n      if (route) {\n        return {\n          route: route,\n          urls: route.getUrls(params),\n          byName: true\n        };\n      } else {\n        var _this$match = this.match(nameOrUrl),\n            _route = _this$match.route,\n            query = _this$match.query;\n\n        var href = _route ? _route.getHref(query) : nameOrUrl;\n        var urls = {\n          href: href,\n          as: nameOrUrl\n        };\n        return {\n          route: _route,\n          urls: urls\n        };\n      }\n    }\n  }, {\n    key: \"getRequestHandler\",\n    value: function getRequestHandler(app, customHandler) {\n      var _this = this;\n\n      var nextHandler = app.getRequestHandler();\n      return function (req, res) {\n        var _this$match2 = _this.match(req.url),\n            route = _this$match2.route,\n            query = _this$match2.query,\n            parsedUrl = _this$match2.parsedUrl;\n\n        if (route) {\n          if (customHandler) {\n            customHandler({\n              req: req,\n              res: res,\n              route: route,\n              query: query\n            });\n          } else {\n            app.render(req, res, route.page, query);\n          }\n        } else {\n          nextHandler(req, res, parsedUrl);\n        }\n      };\n    }\n  }, {\n    key: \"getLink\",\n    value: function getLink(Link) {\n      var _this2 = this;\n\n      var LinkRoutes = function LinkRoutes(props) {\n        var route = props.route,\n            params = props.params,\n            to = props.to,\n            newProps = _objectWithoutProperties(props, [\"route\", \"params\", \"to\"]);\n\n        var nameOrUrl = route || to;\n\n        if (nameOrUrl) {\n          Object.assign(newProps, _this2.findAndGetUrls(nameOrUrl, params).urls);\n        }\n\n        return _react.default.createElement(Link, newProps);\n      };\n\n      return LinkRoutes;\n    }\n  }, {\n    key: \"getRouter\",\n    value: function getRouter(Router) {\n      var _this3 = this;\n\n      var wrap = function wrap(method) {\n        return function (route, params, options) {\n          var _this3$findAndGetUrls = _this3.findAndGetUrls(route, params),\n              byName = _this3$findAndGetUrls.byName,\n              _this3$findAndGetUrls2 = _this3$findAndGetUrls.urls,\n              as = _this3$findAndGetUrls2.as,\n              href = _this3$findAndGetUrls2.href;\n\n          return Router[method](href, as, byName ? options : params);\n        };\n      };\n\n      Router.pushRoute = wrap('push');\n      Router.replaceRoute = wrap('replace');\n      Router.prefetchRoute = wrap('prefetch');\n      return Router;\n    }\n  }]);\n\n  return Routes;\n}();\n\nvar Route =\n/*#__PURE__*/\nfunction () {\n  function Route(_ref2) {\n    var name = _ref2.name,\n        pattern = _ref2.pattern,\n        _ref2$page = _ref2.page,\n        page = _ref2$page === void 0 ? name : _ref2$page;\n\n    _classCallCheck(this, Route);\n\n    if (!name && !page) {\n      throw new Error(\"Missing page to render for route \\\"\".concat(pattern, \"\\\"\"));\n    }\n\n    this.name = name;\n    this.pattern = pattern || \"/\".concat(name);\n    this.page = page.replace(/(^|\\/)index$/, '').replace(/^\\/?/, '/');\n    this.regex = (0, _pathToRegexp.default)(this.pattern, this.keys = []);\n    this.keyNames = this.keys.map(function (key) {\n      return key.name;\n    });\n    this.toPath = _pathToRegexp.default.compile(this.pattern);\n  }\n\n  _createClass(Route, [{\n    key: \"match\",\n    value: function match(path) {\n      var values = this.regex.exec(path);\n\n      if (values) {\n        return this.valuesToParams(values.slice(1));\n      }\n    }\n  }, {\n    key: \"valuesToParams\",\n    value: function valuesToParams(values) {\n      var _this4 = this;\n\n      return values.reduce(function (params, val, i) {\n        if (val === undefined) return params;\n        return Object.assign(params, _defineProperty({}, _this4.keys[i].name, decodeURIComponent(val)));\n      }, {});\n    }\n  }, {\n    key: \"getHref\",\n    value: function getHref() {\n      var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      return \"\".concat(this.page, \"?\").concat(toQuerystring(params));\n    }\n  }, {\n    key: \"getAs\",\n    value: function getAs() {\n      var _this5 = this;\n\n      var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var as = this.toPath(params) || '/';\n      var keys = Object.keys(params);\n      var qsKeys = keys.filter(function (key) {\n        return _this5.keyNames.indexOf(key) === -1;\n      });\n      if (!qsKeys.length) return as;\n      var qsParams = qsKeys.reduce(function (qs, key) {\n        return Object.assign(qs, _defineProperty({}, key, params[key]));\n      }, {});\n      return \"\".concat(as, \"?\").concat(toQuerystring(qsParams));\n    }\n  }, {\n    key: \"getUrls\",\n    value: function getUrls(params) {\n      var as = this.getAs(params);\n      var href = this.getHref(params);\n      return {\n        as: as,\n        href: href\n      };\n    }\n  }]);\n\n  return Route;\n}();\n\nvar toQuerystring = function toQuerystring(obj) {\n  return Object.keys(obj).filter(function (key) {\n    return obj[key] !== null && obj[key] !== undefined;\n  }).map(function (key) {\n    var value = obj[key];\n\n    if (Array.isArray(value)) {\n      value = value.join('/');\n    }\n\n    return [encodeURIComponent(key), encodeURIComponent(value)].join('=');\n  }).join('&');\n};"]},"metadata":{},"sourceType":"script"}